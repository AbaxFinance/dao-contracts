Script started on 2024-02-22 00:23:13+01:00 [TERM="xterm-256color" TTY="/dev/pts/7" COLUMNS="170" LINES="18"]<br/>(node:28077) ExperimentalWarning: --experimental-loader is an experimental feature. This feature could change at any time<br/>(Use `node --trace-warnings ...` to show where the warning was created)<br/>Executing command <span style="color:#0A0">npx mocha --node-option max-old-space-size=16384 --config ./.mocharc.js -C --exit --full-trace false --require ts-node/register tests/**/*.ts --colors <span style="color:#FFF">with surpressed warnings!<br/><br/></span></span><br/>  TGE<br/>    phase 1<br/>      initialization/access control<br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Contribute fails if desired amount of ABAX to get is less than one</span><span style="color:#A00"> (175ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Contribute fails if TGE is not started</span><span style="color:#A00"> (120ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Fails if contribution amount exceeds phase one cap</span><span style="color:#A00"> (112ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Upon reaching phase one cap switches to phase 2</span><span style="color:#A00"> (179ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> On first contribution handles founders, foundation and strategic reserves (and only on first one)</span><span style="color:#A00"> (254ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Only admin can set bonus multiplier</span><span style="color:#A00"> (166ms)</span><br/>      user has no bonus<br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Gets the correct amount of tokens & vesting</span><span style="color:#A00"> (202ms)</span><br/>      <span style="color:#A00">  1) Uses referral address and receives bonus, as well as the referee address</span><br/>      user has bonus<br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Gets the correct amount of tokens & vesting</span><span style="color:#A00"> (292ms)</span><br/>      <span style="color:#A00">  2) Uses referral address and receives bonus, as well as the referee address</span><br/>    phase 2<br/>    <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Contribute fails if TGE is finished</span><span style="color:#A00"> (140ms)</span><br/>      user has no bonus<br/>        Generates 40 ABAX tokens<br/>        <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Gets the correct amount of tokens & vesting</span><br/>        <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Has correct vesting schedule & is able to collect vested tokens after the time passes</span><span style="color:#A50"> (75ms)</span><br/>      user has bonus<br/>        Generates 40 ABAX tokens with bonus<br/>        <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Gets the correct amount of tokens & vesting with bonus</span><br/>        <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> Has correct vesting schedule & is able to collect vested tokens with bonus after the time passes</span><span style="color:#A50"> (75ms)</span><br/>      price discovery<br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> 5 million tokens get minted on top of the 20 million intended for Public Contributors. 25 million ABAX tokens being created. Price increases to 0.0315</span><span style="color:#A00"> (244ms)</span><br/>      <span style="color:#0A0">  <span style="color:#0A0">✔<span style="color:#FFF"></span></span></span><span style="color:#555"> 25 contributions of 10 thousands tokens each. Price increases on subsequent contributions</span><span style="color:#A00"> (4305ms)</span><br/><br/><br/><span style="color:#5F5"> </span><span style="color:#0A0"> 15 passing</span><span style="color:#555"> (14s)</span><br/><span style="color:#A00">  2 failing</span><br/><br/>  1) TGE<br/>       phase 1<br/>         user has no bonus<br/>           Uses referral address and receives bonus, as well as the referee address:<br/><br/>      <span style="color:#A00">AssertionError: expected :<br/>"160000000000000" to equal :<br/>"161600000000000"</span><br/>      <span style="color:#0A0">+ expected</span> <span style="color:#A00">- actual</span><br/><br/>      <span style="color:#A00">-160000000000000</span><br/>      <span style="color:#0A0">+161600000000000</span><br/>      <span style="color:#555"><br/>      at Context.<anonymous> (tests/tge.spec.ts:234:54)<br/>      at processTicksAndRejections (node:internal/process/task_queues:96:5)<br/></span><br/>  2) TGE<br/>       phase 1<br/>         user has bonus<br/>           Uses referral address and receives bonus, as well as the referee address:<br/><br/>      <span style="color:#A00">AssertionError: expected :<br/>"172800000000000" to equal :<br/>"174400000000000"</span><br/>      <span style="color:#0A0">+ expected</span> <span style="color:#A00">- actual</span><br/><br/>      <span style="color:#A00">-172800000000000</span><br/>      <span style="color:#0A0">+174400000000000</span><br/>      <span style="color:#555"><br/>      at Context.<anonymous> (tests/tge.spec.ts:308:54)<br/>      at processTicksAndRejections (node:internal/process/task_queues:96:5)<br/></span><br/><br/><br/><br/>Script done on 2024-02-22 00:23:34+01:00 [COMMAND_EXIT_CODE="2"]<br/>